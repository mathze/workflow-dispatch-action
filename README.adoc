= Workflow dispatch action

An action that creates a workflow dispatch event and returns the run_id of started workflow.

== Setup
[source,yaml, title="With direct wait"]
----
#...
  - name: "Start and wait for a workflow"
    id: startWorkflow
    uses: mathze/workflow-dispatch-action@v1
    with:
      workflowname: my-workflow.yml
      token: ${{ secrets.GITHUB_TOKEN }}
#...
  - name: "Reuse workflow run id"
    run: "echo ${{ steps.startWorkflow.outputs.run_id }}
----

== Inputs
|===
|Input|Description|Required|Default

|`owner`
|Organization or user under which the repository of the workflow resist.
|`false`
|Current owner

|`repo`
|Name of the repository the workflow resist in.
|`false`
|Current repository

|`ref`
|The git reference for the workflow. The reference can be a branch or tag name.
|`false`
|Default branch of the repository.

|`workflowname`
|Name of the workflow to trigger. +
Can be the name of the workflow or its ID.
|`true`
|-

|`payload`
|Json-String representing any payload/input that shall be sent with the dispatch event.
|`false`
| {}

|`token`
|The token used to trigger the workflow. +
The token must have `repo` scope.
|`true`
|-

|`failOnError`
|Defines if the action should result in a build failure, if an error was discovered
|`false`
|`false`

|===

== Outputs
|===
|Output|Type|Description

|`failed`
|Boolean
|Indicates if there was an issue with the action run, and the workflow may not have been triggered correctly.

|`run_id`
|String
|The run id of the started workflow. May be empty if no run was found or on error.

|===